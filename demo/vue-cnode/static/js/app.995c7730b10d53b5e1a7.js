webpackJsonp([1],[,,,,,,function(t,e,n){"use strict";var i={getTimeStamp:function(t){return new Date(t).getTime()},formatMsgTime:function(t){var e=Date.now(),n=e-t,i=n/31104e6,s=n/2592e6,o=n/864e5,a=n/36e5,c=n/6e4;return i>=1?parseInt(i)+"年前":s>=1?parseInt(s)+"个月前":o>=1?parseInt(o)+"天前":a>=1?parseInt(a)+"小时前":c>=1?parseInt(c)+"分钟前":"刚刚"}};e.a=i},,,function(t,e,n){"use strict";var i=n(114),s=n.n(i),o={get:function(t){return JSON.parse(localStorage.getItem(t))},set:function(t,e){return localStorage.setItem(t,s()(e))}};e.a=o},,,,,,,,,,function(t,e,n){n(83);var i=n(1)(n(119),n(72),null,null);t.exports=i.exports},function(t,e,n){n(78);var i=n(1)(n(124),n(67),null,null);t.exports=i.exports},,,,,,,function(t,e,n){"use strict";function i(t){var e=document.body.scrollTop;t=t||function(){},window.addEventListener("scroll",function(){var n=document.body.scrollTop,i=n-e;if(0===i)return!1;t(i>0?"down":"up"),e=n},!1)}e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return r}),n.d(e,"g",function(){return l}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"j",function(){return p});var i="SWITCH_TAB",s="LOAD_PAGE",o="SHOW_TOPIC",a="TOPIC_DETAIL",c="LOGIN_INFO",r="LOGIN_STATUS",l="LOGIN_TIP",u="USER_ITEM",d="USER_JUMP",p="DETAIL_JUMP"},,,function(t,e,n){n(80);var i=n(1)(n(118),n(69),null,null);t.exports=i.exports},function(t,e){},function(t,e,n){"use strict";var i=n(5),s=n(112),o=n(60),a=n.n(o),c=n(56),r=n.n(c),l=n(57),u=n.n(l),d=n(61),p=n.n(d),v=n(62),m=n.n(v),f=n(59),_=n.n(f),h=n(58),g=n.n(h);i.default.use(s.a),e.a=new s.a({routes:[{path:"/",redirect:"/topic"},{path:"/topic",name:"Topic",component:a.a},{path:"/detail",name:"Detail",component:r.a},{path:"/login",name:"Login",component:u.a},{path:"/user/:id",redirect:"/user/:id/reply",name:"User",component:p.a,children:[{path:":type",component:m.a}]},{path:"/new",name:"New",component:_.a},{path:"/message",name:"Message",component:g.a}]})},function(t,e,n){"use strict";var i=n(5),s=n(3),o=n(130),a=n(129);i.default.use(s.a);var c={tab:"all",page:1,showTopic:!0,topicDetail:"",loginInfo:{},loginStatus:!1,loginTip:!1,userItem:"reply",user_jump:"/topic",detail_jump:"/topic"};e.a=new s.a.Store({state:c,mutations:o.a,actions:a.a})},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(75);var i=n(1)(n(120),n(64),null,null);t.exports=i.exports},function(t,e,n){n(81);var i=n(1)(n(121),n(70),null,null);t.exports=i.exports},function(t,e,n){n(79);var i=n(1)(n(122),n(68),null,null);t.exports=i.exports},function(t,e,n){n(76);var i=n(1)(n(123),n(65),null,null);t.exports=i.exports},function(t,e,n){n(74);var i=n(1)(n(125),n(63),null,null);t.exports=i.exports},function(t,e,n){n(77);var i=n(1)(n(126),n(66),null,null);t.exports=i.exports},function(t,e,n){n(82);var i=n(1)(n(127),n(71),null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic-container"},[t._v("\n  "+t._s(t.$route.params.id)+"\n  "),n("md-toolbar",{attrs:{id:"md-toolbar"}},[n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.toggleLeftSidenav(e)}}},[n("md-icon",[t._v("menu")])],1),t._v(" "),n("h2",{staticClass:"md-title"},[t._v(t._s(t._f("formatTitle")(t.tab)))])],1),t._v(" "),n("side-nav",{ref:"sidenav",on:{"show-loading":t.showLoading}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTopic,expression:"showTopic"}],staticClass:"topic-list"},t._l(t.list,function(e,i){return n("div",{staticClass:"cell",attrs:{"data-href":e.id},on:{click:function(n){t.openDetail(e.id)}}},[n("div",{staticClass:"header"},[e.top?n("span",{staticClass:"type-top"},[t._v("置顶")]):e.good?n("span",{staticClass:"type-top"},[t._v("精华")]):"share"==e.tab?n("span",[t._v("分享")]):"ask"==e.tab?n("span",[t._v("问答")]):"job"==e.tab?n("span",[t._v("招聘")]):n("span",[t._v("分享")]),t._v(" "),n("h3",[t._v(t._s(e.title))])]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"user-info"},[n("router-link",{attrs:{to:"user/"+e.author.loginname}},[n("img",{attrs:{src:e.author.avatar_url,alt:""},on:{click:function(e){e.stopPropagation(),t.userJump(e)}}})]),t._v(" "),n("div",{staticClass:"user-name"},[n("span",[t._v(t._s(e.author.loginname))]),t._v(" "),n("p",[t._v("创建于："+t._s(t._f("createTime")(e.create_at)))])])],1),t._v(" "),n("div",{staticClass:"replies"},[n("span",[n("span",{staticClass:"reply"},[t._v(t._s(e.reply_count))]),t._v(" /\n            "),n("span",{staticClass:"view"},[t._v(t._s(e.visit_count))])]),t._v(" "),n("p",[t._v(t._s(t._f("time")(e.last_reply_at)))])])])])})),t._v(" "),n("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading",attrs:{"md-indeterminate":""}}),t._v(" "),n("mugen-scroll",{staticClass:"bottom-loading",attrs:{handler:t.fetchMoreData,"should-handle":!t.mugen_loading}},[n("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.bottom_loading,expression:"bottom_loading"}],staticClass:"bottom",attrs:{"md-size":30,"md-indeterminate":""}})],1),t._v(" "),n("transition",{attrs:{name:"fade-btn"}},[n("button-icon",{directives:[{name:"show",rawName:"v-show",value:t.edit_show,expression:"edit_show"}],ref:"edit_btn",attrs:{icon:"edit"},nativeOn:{click:function(e){t.newTopic("login-dialog")}}})],1),t._v(" "),t.loginTip?n("div",{staticClass:"login-info"},[t._v("登录成功")]):t._e(),t._v(" "),n("md-dialog",{ref:"login-dialog",staticClass:"login",attrs:{"md-open-from":"#custom","md-close-to":"#custom"}},[n("md-dialog-title",[t._v("该操作需要登录账户，是否现在登录？")]),t._v(" "),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closeDialog("login-dialog","cancel")}}},[t._v("取消")]),t._v(" "),n("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closeDialog("login-dialog","ok")}}},[t._v("登录")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail-container"},[n("md-toolbar",{attrs:{id:"md-toolbar"}},[n("md-button",{staticClass:"md-icon-button"},[n("router-link",{attrs:{to:{path:t.backUrl}}},[n("md-icon",[t._v("arrow_back")])],1)],1),t._v(" "),n("h2",{staticClass:"md-title"},[t._v("话题")])],1),t._v(" "),n("side-nav",{ref:"sidenav"}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"topic"},[n("div",{staticClass:"topic-header"},[n("h3",[t._v(t._s(t.obj.title))]),t._v(" "),n("div",{staticClass:"user"},[n("div",{staticClass:"user-l"},[n("router-link",{attrs:{to:"/user/"+t.author.loginname}},[n("img",{attrs:{src:t.author.avatar_url,alt:""},on:{click:function(t){}}})]),t._v(" "),n("div",{staticClass:"user-name"},[n("p",[t.obj.top?n("span",{staticClass:"type type-top"},[t._v("置顶")]):t.obj.good?n("span",{staticClass:"type type-top"},[t._v("精华")]):"share"==t.obj.tab?n("span",[t._v("分享")]):"ask"==t.obj.tab?n("span",{staticClass:"type"},[t._v("问答")]):"job"==t.obj.tab?n("span",{staticClass:"type"},[t._v("招聘")]):n("span",[t._v("分享")]),t._v(" "),n("span",{staticClass:"name"},[t._v(t._s(t.author.loginname))])]),t._v(" "),n("p",[n("span",{staticClass:"create-time"},[t._v(t._s(t._f("time")(t.obj.create_at))+"创建")]),t._v(" "),n("span",{staticClass:"views"},[t._v(t._s(t.obj.visit_count)+"次浏览")])])])],1),t._v(" "),n("div",{staticClass:"user-r"},[t.collect?n("md-icon",{class:{liked:t.collect},nativeOn:{click:function(e){t.de_collectTopic(e)}}},[t._v("favorite")]):n("md-icon",{nativeOn:{click:function(e){t.collectTopic("login-dialog")}}},[t._v("favorite_border")])],1)])]),t._v(" "),n("div",{staticClass:"topic-reply",domProps:{innerHTML:t._s(t.obj.content)}}),t._v(" "),n("div",{staticClass:"reply-list"},[0==t.obj.reply_count?n("h3",{staticClass:"no-reply"},[t._v("暂无回复")]):n("h3",[t._v(t._s(t.obj.reply_count)+"条回复")]),t._v(" "),t._l(t.obj.replies,function(e,i){return n("div",{staticClass:"cell"},[n("div",{staticClass:"user"},[n("div",{staticClass:"user-l"},[n("router-link",{attrs:{to:"/user/"+e.author.loginname}},[n("img",{attrs:{src:e.author.avatar_url,alt:""},on:{click:t.userJump}})]),t._v(" "),n("div",{staticClass:"user-name"},[n("p",[n("span",{staticClass:"name"},[t._v(t._s(e.author.loginname))])]),t._v(" "),n("p",[n("span",{staticClass:"count"},[t._v(t._s(i+1)+"楼")]),n("span",{staticClass:"reply-time"},[t._v(t._s(t._f("time")(e.create_at)))])])])],1),t._v(" "),n("div",{staticClass:"user-r"},[n("md-icon",{class:{active:e.is_uped},nativeOn:{click:function(n){t.likeUp(e,"login-dialog")}}},[t._v("thumb_up")]),t._v(" "),n("span",{staticClass:"thumb_up_count"},[t._v(t._s(e.ups.length))]),t._v(" "),n("md-icon",[t._v("reply")])],1)]),t._v(" "),n("div",{staticClass:"reply-content",domProps:{innerHTML:t._s(e.content)}})])})],2)]),t._v(" "),n("div",{staticClass:"editer-wrap"},[n("transition",{attrs:{name:"markdown-body"}},[n("mavon-editor",{directives:[{name:"show",rawName:"v-show",value:t.markdown_show,expression:"markdown_show"}],attrs:{toolbars:t.toolbars},on:{keydown:function(t){}},model:{value:t.edit_content,callback:function(e){t.edit_content=e},expression:"edit_content"}})],1),t._v(" "),n("transition",{attrs:{name:"markdown-cover"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.markdown_show,expression:"markdown_show"}],staticClass:"edit-cover",on:{click:function(e){t.markdown_show=!1}}})]),t._v(" "),n("transition",{attrs:{name:"markdown-btn"}},[n("md-icon",{directives:[{name:"show",rawName:"v-show",value:t.markdown_show,expression:"markdown_show"}],staticClass:"reply",nativeOn:{click:function(e){t.reply(e)}}},[t._v("send")])],1)],1),t._v(" "),n("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading",attrs:{"md-indeterminate":""}}),t._v(" "),n("button-icon",{directives:[{name:"show",rawName:"v-show",value:t.edit_show,expression:"edit_show"}],attrs:{icon:"reply"},nativeOn:{click:function(e){t.showMarkdown("login-dialog")}}}),t._v(" "),n("md-dialog",{ref:"login-dialog",staticClass:"login",attrs:{"md-open-from":"#custom","md-close-to":"#custom"}},[n("md-dialog-title",[t._v("该操作需要登录账户，是否现在登录？")]),t._v(" "),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closeDialog("login-dialog","cancel")}}},[t._v("取消")]),t._v(" "),n("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closeDialog("login-dialog","ok")}}},[t._v("登录")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"new-topic"},[n("md-toolbar",{attrs:{id:"md-toolbar"}},[n("md-button",{staticClass:"md-icon-button"},[n("router-link",{attrs:{to:"Topic"}},[n("md-icon",[t._v("arrow_back")])],1)],1),t._v(" "),n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v("发布话题")]),t._v(" "),n("md-button",{staticClass:"md-icon-button"},[n("md-icon",{nativeOn:{click:function(e){t.newTopic(e)}}},[t._v("send")])],1)],1),t._v(" "),n("div",{staticClass:"send-cate"},[n("span",[t._v("发布到分类")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],attrs:{name:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.category=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"share"}},[t._v("分享")]),t._v(" "),n("option",{attrs:{value:"ask"}},[t._v("问答")]),t._v(" "),n("option",{attrs:{value:"job"}},[t._v("招聘")]),t._v(" "),n("option",{attrs:{value:"dev"}},[t._v("测试")])])]),t._v(" "),n("div",{staticClass:"send-title"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"标题，字数10字以上"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"send-wrap"},[n("mavon-editor",{attrs:{toolbars:t.toolbars},on:{keydown:function(t){}},model:{value:t.send_content,callback:function(e){t.send_content=e},expression:"send_content"}})],1),t._v(" "),n("md-dialog-alert",{ref:"blank",attrs:{"md-content":t.alert.content,"md-ok-text":t.alert.ok,id:"blank"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-info"},[n("div",{staticClass:"user-header"},[n("md-toolbar",{attrs:{id:"md-toolbar"}},[n("router-link",{attrs:{to:{path:t.backUrl}}},[n("md-button",{staticClass:"md-icon-button"},[n("md-icon",[t._v("arrow_back")])],1)],1)],1),t._v(" "),n("div",{staticClass:"user-avatar"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.user.avatar_url,alt:""}})])]),t._v(" "),n("div",{staticClass:"user-name"},[t._v("\n      "+t._s(t.user.loginname)+"\n    ")]),t._v(" "),n("div",{staticClass:"user-mail"},[n("a",{attrs:{href:"https://github.com/"+t.user.loginname,target:"_blank"}},[t._v(t._s(t.user.loginname)+"@github.com")])]),t._v(" "),n("div",{staticClass:"reg-info"},[n("span",{staticClass:"reg-time"},[t._v("注册时间："+t._s(t._f("regTime")(t.createTime)))]),t._v(" "),n("span",{staticClass:"score"},[t._v("积分："+t._s(t.user.score))])])],1),t._v(" "),n("div",{staticClass:"user-nav"},[n("div",{staticClass:"nav-title",on:{click:function(e){t.userItem("reply")}}},[n("router-link",{attrs:{to:"/user/"+t.user.loginname+"/reply"}},[t._v("\n        最新回复\n      ")])],1),t._v(" "),n("div",{staticClass:"nav-title",on:{click:function(e){t.userItem("publish")}}},[n("router-link",{attrs:{to:"/user/"+t.user.loginname+"/publish"}},[t._v("\n        最新发布\n      ")])],1),t._v(" "),n("div",{staticClass:"nav-title",on:{click:function(e){t.userItem("collect")}}},[n("router-link",{attrs:{to:"/user/"+t.user.loginname+"/collect"}},[t._v("\n        话题收藏\n      ")])],1)]),t._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-sidenav",{ref:"leftSidenav",staticClass:"md-left",on:{touchmove:function(t){t.preventDefault()}}},[t.loginStatus?n("md-toolbar",{staticClass:"md-large"},[n("md-avatar",{staticClass:"md-large"},[n("router-link",{attrs:{to:"user/"+t.loginInfo.loginname}},[n("img",{attrs:{src:t.loginInfo.avatar_url,alt:"Avatar"},on:{click:t.userJump}})])],1),t._v(" "),n("div",{staticClass:"username"},[t._v("\n      "+t._s(t.loginInfo.loginname)+"\n    ")]),t._v(" "),n("div",{staticClass:"intro",on:{click:function(e){t.openDialog("logout-dialog")}}},[t._v("\n      注销\n    ")])],1):n("md-toolbar",{staticClass:"md-large"},[n("md-avatar",{staticClass:"md-large"},[n("router-link",{attrs:{to:"Login"}},[n("img",{attrs:{src:"http://freevector.co/wp-content/uploads/2013/01/80889-male-avatar-circle.png",alt:"Avatar"}})])],1),t._v(" "),n("div",{staticClass:"username"},[t._v("\n      点击头像登录\n    ")]),t._v(" "),n("div",{staticClass:"intro"})],1),t._v(" "),n("md-list",{ref:"list",on:{touchmove:function(t){t.preventDefault()}}},[n("md-list-item",{nativeOn:{click:function(e){t.switchTab("all")}}},[n("md-icon",{staticClass:"md-primary"},[t._v("move_to_inbox")]),t._v(" "),n("span",[t._v("全部")])],1),t._v(" "),n("md-list-item",{nativeOn:{click:function(e){t.switchTab("good")}}},[n("md-icon",{staticClass:"md-accent"},[t._v("thumb_up")]),t._v(" "),n("span",[t._v("精华")])],1),t._v(" "),n("md-list-item",{nativeOn:{click:function(e){t.switchTab("share")}}},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"sidenav"}},[t._v("share")]),t._v(" "),n("span",[t._v("分享")])],1),t._v(" "),n("md-list-item",{nativeOn:{click:function(e){t.switchTab("ask")}}},[n("md-icon",{staticClass:"md-accent",attrs:{"md-theme":"sidenav"}},[t._v("question_answer")]),t._v(" "),n("span",[t._v("问答")])],1),t._v(" "),n("md-list-item",{nativeOn:{click:function(e){t.switchTab("job")}}},[n("md-icon",{staticClass:"md-warn",attrs:{"md-theme":"sidenav"}},[t._v("people")]),t._v(" "),n("span",[t._v("招聘")])],1),t._v(" "),n("md-list-item",{nativeOn:{click:function(e){t.switchTab("dev")}}},[n("md-icon",{staticClass:"md-warn",attrs:{"md-theme":"sidenav"}},[t._v("people")]),t._v(" "),n("span",[t._v("测试")]),t._v(" "),n("md-divider",{staticClass:"md-inset"})],1),t._v(" "),n("md-list-item",[n("router-link",{attrs:{to:"message"}},[n("md-icon",{staticClass:"md-accent"},[t._v("notifications")]),t._v(" "),n("span",[t._v("消息")])],1)],1),t._v(" "),n("md-list-item",[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"sidenav"}},[t._v("settings")]),t._v(" "),n("span",[t._v("设置")])],1),t._v(" "),n("md-list-item",[n("md-icon",{staticClass:"md-accent",attrs:{"md-theme":"sidenav"}},[t._v("info")]),t._v(" "),n("span",[t._v("关于")])],1)],1),t._v(" "),n("md-dialog",{ref:"logout-dialog",staticClass:"logout",attrs:{"md-open-from":"#custom","md-close-to":"#custom"}},[n("md-dialog-title",[t._v("确定注销吗？")]),t._v(" "),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closeDialog("logout-dialog","cancel")}}},[t._v("取消")]),t._v(" "),n("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.closeDialog("logout-dialog","ok")}}},[t._v("注销")])],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-toolbar",{attrs:{id:"md-toolbar"}},[n("md-button",{staticClass:"md-icon-button"},[n("router-link",{attrs:{to:"Topic"}},[n("md-icon",[t._v("arrow_back")])],1)],1),t._v(" "),n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v("消息")]),t._v(" "),n("md-button",{staticClass:"md-icon-button"},[n("md-icon",[t._v("done_all")])],1)],1),t._v(" "),n("div",{staticClass:"message-list"},t._l(t.readMsgList,function(e,i){return n("div",{staticClass:"message-cell",on:{click:function(n){t.detailJump(e.topic.id)}}},[n("div",{staticClass:"msg-title"},[n("div",{staticClass:"msg-user"},[n("router-link",{attrs:{to:"user/"+e.author.loginname}},[n("img",{attrs:{src:e.author.avatar_url,alt:""},on:{click:function(e){e.stopPropagation(),t.userJump(e)}}})]),t._v(" "),n("div",{staticClass:"msg-name"},[n("p",[t._v(t._s(e.author.loginname))]),t._v(" "),n("p",[t._v("在回复中@了您")])])],1),t._v(" "),n("span",{staticClass:"msg-time"},[t._v(t._s(t._f("time")(e.create_at)))])]),t._v(" "),n("div",{staticClass:"msg-content",domProps:{innerHTML:t._s(e.reply.content)}}),t._v(" "),n("div",{staticClass:"msg-topic"},[t._v("\n        话题："+t._s(e.topic.title)+"\n      ")])])}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"login-header"},[n("md-toolbar",{attrs:{id:"md-toolbar"}},[n("md-button",{staticClass:"md-icon-button",nativeOn:{click:function(e){t.back(e)}}},[n("md-icon",[t._v("arrow_back")])],1),t._v(" "),n("h2",{staticClass:"md-title"},[t._v("登录")])],1)],1),t._v(" "),n("div",{staticClass:"login-panel",class:{"login-focus":t.isTop}},[n("label",{ref:"label",staticClass:"login-label"},[t._v("输入Access Token登录")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.access_token,expression:"access_token"}],staticClass:"token",class:{"error-info-token":!t.errorInfo.success},attrs:{type:"text"},domProps:{value:t.access_token},on:{focus:function(e){t.labelTop(!0)},blur:function(e){t.labelTop(!1)},input:function(e){e.target.composing||(t.access_token=e.target.value)}}}),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.errorInfo.success,expression:"!errorInfo.success"}],staticClass:"error-info"},[t._v(t._s(t.errorInfo.error_msg))]),t._v(" "),n("button",{staticClass:"login-btn",on:{click:t.login}},[t._v("登录")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-reply"},t._l(t.list,function(e,i){return n("div",{staticClass:"user-reply-cell"},[n("router-link",{attrs:{to:{path:"/detail",query:{id:e.id}}},nativeOn:{click:function(n){t.openDetail(e.id)}}},[n("a",{staticClass:"user-reply-avatar"},[n("img",{attrs:{src:e.author.avatar_url,alt:""}})]),t._v(" "),n("div",{staticClass:"user-reply-content"},[n("h3",[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"user-reply-name"},[n("span",{staticClass:"user-reply-left"},[t._v(t._s(e.author.loginname))]),t._v(" "),n("span",{staticClass:"user-reply-right"},[t._v(t._s(t._f("time")(e.last_reply_at)))])])])])],1)}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"edit_btn",staticClass:"edit-btn"},[n("md-icon",[t._v(t._s(t.icon))])],1)},staticRenderFns:[]}},,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["icon"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),o=n(20),a=n.n(o),c=n(19),r=n.n(c),l=n(2),u=n.n(l),d=n(3),p=n(6),v=n(27),m=n(9);e.default={data:function(){return{url:"https://cnodejs.org/api/v1/",obj:{},author:{},loading:!0,showDetail:!1,collect:!1,de_collect:!0,edit_show:!0,collectList:[],backUrl:"",markdown_show:!1,edit_content:"",toolbars:{bold:!0,italic:!0,header:!0,underline:!0,mark:!0,superscript:!0,quote:!0,ol:!0,link:!0,imagelink:!0,help:!0,code:!0,subfield:!0,fullscreen:!0,readmodel:!0,undo:!0,trash:!0,save:!0,navigation:!0},reply_tail:"来自[VueCnodeMD](https://github.com/tgxhx/vue-cnode)"}},computed:s()({},n.i(d.b)(["topicDetail","loginInfo","loginStatus","detail_jump"])),created:function(){this.getDetail(this.$route.query.id),this.getCollect()},mounted:function(){var t=this;this.$nextTick(function(){t.backUrl=t.detail_jump,null!=m.a.get("loginInfo")&&(t.$store.dispatch("loginInfo",m.a.get("loginInfo")),t.$store.dispatch("loginStatus",!0)),n.i(v.a)(function(e){"down"===e?setTimeout(function(){t.edit_show=!1},200):setTimeout(function(){t.edit_show=!0},200)})})},methods:{getDetail:function(t){var e=this;u.a.get(this.url+"topic/"+t).then(function(t){e.obj=t.data.data,e.author=t.data.data.author,e.is_uped(e.obj.replies),e.loading=!1,e.showDetail=!0})},getCollect:function(t){var e=this;this.loginStatus&&u.a.get(this.url+"topic_collect/"+this.loginInfo.loginname).then(function(t){t.data.data.forEach(function(t){e.collectList.push(t.id),e.collect=e.collectList.some(function(t){return t===e.topicDetail})})})},collectTopic:function(t){var e=this;if(!this.loginStatus)return void this.openDialog(t);u.a.post(this.url+"topic_collect/collect",{accesstoken:this.loginInfo.accesstoken,topic_id:this.$route.query.id}).then(function(t){e.collect=!0})},de_collectTopic:function(){var t=this;u.a.post(this.url+"topic_collect/de_collect",{accesstoken:this.loginInfo.accesstoken,topic_id:this.$route.query.id}).then(function(e){t.collect=!1})},is_uped:function(t){var e=this;t.forEach(function(t){t.is_uped=t.ups.some(function(t){return t===e.loginInfo.id})})},arrRemoveItem:function(t,e){return t.slice(0,t.indexOf(e)).concat(t.slice(t.indexOf(e)+1,t.length))},likeUp:function(t,e){var n=this;if(!this.loginStatus)return void this.openDialog(e);u.a.post(this.url+"reply/"+t.id+"/ups",{accesstoken:this.loginInfo.accesstoken}).then(function(e){"up"===e.data.action?(t.is_uped=!0,t.ups.push(n.loginInfo.id)):(t.is_uped=!1,t.ups=n.arrRemoveItem(t.ups,n.loginInfo.id))})},back:function(){this.$router.back(-1)},userJump:function(){var t=window.location.href.split("#")[1];this.$store.dispatch("userJump",t)},openDialog:function(t){this.$refs[t].open()},closeDialog:function(t,e){this.$refs[t].close(),"ok"===e&&this.$router.push("/Login")},showMarkdown:function(t){if(!this.loginStatus)return void this.openDialog(t);this.markdown_show=!0},reply:function(){var t=this;u.a.post(this.url+"topic/"+this.$route.query.id+"/replies",{accesstoken:this.loginInfo.accesstoken,content:this.edit_content+"\n"+this.reply_tail}).then(function(e){t.markdown_show=!1,t.getDetail(t.$route.query.id),t.edit_content=""})}},components:{SideNav:a.a,ButtonIcon:r.a},filters:{time:function(t){return p.a.formatMsgTime(p.a.getTimeStamp(t))},likeorno:function(t){var e=this;t.some(function(t){return t===e.loginInfo.id})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),o=n(2),a=n.n(o),c=n(3),r=n(9);e.default={data:function(){return{access_token:"",errorInfo:{success:!0},isTop:!1}},computed:s()({},n.i(c.b)(["loginInfo"])),methods:{back:function(){this.$router.back(-1)},login:function(){var t=this;a.a.post("https://cnodejs.org/api/v1/accesstoken?accesstoken="+this.access_token).then(function(e){e.data.accesstoken=t.access_token,t.$store.dispatch("loginInfo",e.data),r.a.set("loginInfo",e.data),t.$store.dispatch("loginStatus",!0),t.$store.dispatch("loginTip",!0),t.$router.back(-1)}).catch(function(e){t.errorInfo=e.response.data})},labelTop:function(t){t?this.isTop=!0:this.access_token||(this.isTop=!1)}},watch:{access_token:function(t,e){this.errorInfo.success=!0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),o=n(2),a=n.n(o),c=n(3),r=n(6);e.default={data:function(){return{url:"https://cnodejs.org/api/v1",readMsgList:[],notReadMsgList:[]}},computed:s()({},n.i(c.b)(["loginInfo"])),created:function(){this.getMessage()},mounted:function(){this.$nextTick(function(){})},methods:{getMessage:function(){var t=this;a.a.get(this.url+"/messages?accesstoken="+this.loginInfo.accesstoken).then(function(e){t.readMsgList=e.data.data.has_read_messages,t.readMsgList.forEach(function(e){e.reply.content=e.reply.content.replace("/user/"+t.loginInfo.loginname,"javascript:")}),t.notReadMsgList=e.data.data.hasnot_read_messages})},userJump:function(){this.$store.dispatch("userJump","/message")},detailJump:function(t){var e=window.location.href.split("#")[1];this.$store.dispatch("detailJump",e),this.$router.push({path:"detail",query:{id:t}})}},filters:{time:function(t){return r.a.formatMsgTime(r.a.getTimeStamp(t))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),o=n(2),a=n.n(o),c=n(3);e.default={data:function(){return{url:"https://cnodejs.org/api/v1",category:"dev",title:"",send_content:"",toolbars:{bold:!0,italic:!0,header:!0,underline:!0,mark:!0,superscript:!0,quote:!0,ol:!0,link:!0,imagelink:!0,help:!0,code:!0,subfield:!0,fullscreen:!0,readmodel:!0,undo:!0,trash:!0,save:!0,navigation:!0},alert:{content:"内容不能为空",ok:"确定"}}},methods:{newTopic:function(){var t=this;return console.log(this.loginInfo),""===this.title?(this.alert={content:"标题不能为空",ok:"确定"},void this.openDialog("blank")):""===this.send_content?(this.alert={content:"内容不能为空",ok:"确定"},void this.openDialog("blank")):void a.a.post(this.url+"/topics",{accesstoken:this.loginInfo.accesstoken,tab:this.category,title:this.title,content:this.send_content}).then(function(e){t.$router.push({path:"topic",query:{tab:"dev"}})})},openDialog:function(t){this.$refs[t].open()},closeDialog:function(t){this.$refs[t].close()}},computed:s()({},n.i(c.b)(["loginInfo"]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),o=n(2),a=(n.n(o),n(3));n(9);e.default={data:function(){return{url:"https://cnodejs.org/api/v1/topics",userinfo:{},confirm:{title:"提示",contentHtml:"确定注销吗？",ok:"注销",cancel:"取消"}}},computed:s()({},n.i(a.b)(["loginInfo","loginStatus"])),mounted:function(){var t=this;this.$nextTick(function(){t.changeBg()})},methods:{switchTab:function(t){t!==this.$store.state.tab&&(this.$store.dispatch("switchTab",t),this.$router.push({path:"topic",query:{tab:t}}),this.$store.dispatch("loadPage",1),this.$store.dispatch("showTopic",!1),this.$emit("show-loading",!0),this.$refs.leftSidenav.close())},changeBg:function(){document.querySelectorAll(".md-list-item").forEach(function(t,e){t.addEventListener("click",function(t){},!1)})},openDialog:function(t){this.$refs[t].open()},closeDialog:function(t,e){this.$refs[t].close(),"ok"===e&&(localStorage.removeItem("loginInfo"),this.$store.dispatch("loginInfo",{}),this.$store.dispatch("loginStatus",!1),console.log("已注销"))},userJump:function(){var t=window.location.href.split("#")[1];this.$store.dispatch("userJump",t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),o=n(20),a=n.n(o),c=n(19),r=n.n(c),l=n(2),u=n.n(l),d=n(3),p=n(6),v=n(9),m=n(27),f=n(53),_=n.n(f);e.default={data:function(){return{url:"https://cnodejs.org/api/v1/topics",list:[],loading:!0,login_tip:!1,edit_show:!0,mugen_loading:!1,bottom_loading:!1}},computed:s()({},n.i(d.b)(["tab","page","showTopic","loginStatus","loginTip"])),created:function(){console.log(this.$route.query)},mounted:function(){var t=this;this.$nextTick(function(){t.getData(t.$route.query.tab||"all"),t.$store.dispatch("loadPage",1),null!=v.a.get("loginInfo")&&(t.$store.dispatch("loginInfo",v.a.get("loginInfo")),t.$store.dispatch("loginStatus",!0)),document.body.scrollTop=0,n.i(m.a)(function(e){"down"===e?setTimeout(function(){t.edit_show=!1},200):setTimeout(function(){t.edit_show=!0},200)})})},methods:{toggleLeftSidenav:function(){this.$refs.sidenav.$refs.leftSidenav.toggle()},getData:function(t){var e=this;u.a.get(this.url+"?limit=20&tab="+t).then(function(t){e.list=t.data.data,e.loading=!1,e.bottom_loading=!0,e.$store.dispatch("showTopic",!0)})},openDetail:function(t){this.$store.dispatch("topicDetail",t);var e=window.location.href.split("#")[1];this.$store.dispatch("detailJump",e),this.$router.push({path:"detail",query:{id:t}})},fetchMoreData:function(){this.mugen_loading=!0,this.$store.dispatch("loadPage"),this.mugen_loading=!1},showLoading:function(t){this.loading=t,console.log(1)},userJump:function(){var t=window.location.href.split("#")[1];this.$store.dispatch("userJump",t)},newTopic:function(t){if(!this.loginStatus)return void this.openDialog(t);this.$router.push("new")},openDialog:function(t){this.$refs[t].open()},closeDialog:function(t,e){this.$refs[t].close(),"ok"===e&&this.$router.push("/Login")}},filters:{formatTitle:function(t){switch(t){case"all":return"CNode社区";case"good":return"精华";case"share":return"分享";case"ask":return"问答";case"job":return"招聘";case"dev":return"测试";default:return"CNode社区"}},time:function(t){return p.a.formatMsgTime(p.a.getTimeStamp(t))},createTime:function(t){return t.substr(0,t.length-5).replace(/T/g," ")}},components:{SideNav:a.a,ButtonIcon:r.a,MugenScroll:_.a},watch:{tab:function(t,e){this.getData(t),console.log(this.$route)},page:function(t,e){var n=this;1!==t&&u.a.get(this.url+"?limit=20&tab="+this.tab+"&page="+t).then(function(t){n.list=n.list.concat(t.data.data)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),o=n(2),a=n.n(o),c=n(3);e.default={data:function(){return{url:"https://cnodejs.org/api/v1/user/",user:{},backUrl:"",createTime:""}},created:function(){this.getData(this.$route.params.id)},mounted:function(){this.backUrl=this.user_jump},filters:{regTime:function(t){return t.substring(0,10)}},methods:{back:function(){this.$router.back(-1)},getData:function(t){var e=this;a.a.get(this.url+t).then(function(t){e.user=t.data.data,e.createTime=e.user.create_at})},userItem:function(t){this.$store.dispatch("userItem",t)}},computed:s()({},n.i(c.b)(["user_jump"]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n.n(i),o=n(2),a=n.n(o),c=n(3),r=n(6);e.default={data:function(){return{msg:"111",list:[],url:"https://cnodejs.org/api/v1/"}},computed:s()({},n.i(c.b)(["userItem"])),mounted:function(){var t=this;this.$nextTick(function(){"collect"!==t.userItem?t.getData(t.$route.params.id,t.userItem):t.getCollect(t.$route.params.id)})},filters:{time:function(t){return r.a.formatMsgTime(r.a.getTimeStamp(t))}},methods:{getData:function(t,e){var n=this;a.a.get(this.url+"user/"+t).then(function(t){"reply"===e?n.list=t.data.data.recent_replies:"publish"===e&&(n.list=t.data.data.recent_topics)})},getCollect:function(t){var e=this;a.a.get(this.url+"topic_collect/"+t).then(function(t){e.list=t.data.data})},openDetail:function(t){this.$store.dispatch("topicDetail",t)}},watch:{$route:function(t,e){this.msg=t.params.type,"reply"===t.params.type?this.getData(t.params.id,"reply"):"publish"===t.params.type?this.getData(t.params.id,"publish"):this.getCollect(t.params.id)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),s=n(31),o=n.n(s),a=n(33),c=n(2),r=(n.n(c),n(34)),l=n(29),u=n.n(l),d=n(6),p=n(30),v=n.n(p),m=n(32);n.n(m);Object.defineProperty(i.default.prototype,"$format",{value:d.a}),i.default.use(v.a),i.default.use(u.a),i.default.material.registerTheme({default:{primary:{color:"green",hue:700},accent:{color:"red",hue:700}},sidenav:{primary:{color:"blue",hue:700},accent:{color:"red",hue:700},warn:{color:"orange",hue:700}}}),i.default.config.productionTip=!1,new i.default({el:"#app",router:a.a,store:r.a,template:"<App/>",components:{App:o.a}})},function(t,e,n){"use strict";var i=n(28);e.a={switchTab:function(t,e){(0,t.commit)(i.a,e)},loadPage:function(t,e){(0,t.commit)(i.b,e)},showTopic:function(t,e){(0,t.commit)(i.c,e)},topicDetail:function(t,e){(0,t.commit)(i.d,e)},loginInfo:function(t,e){(0,t.commit)(i.e,e)},loginStatus:function(t,e){(0,t.commit)(i.f,e)},loginTip:function(t,e){(0,t.commit)(i.g,e)},userItem:function(t,e){(0,t.commit)(i.h,e)},userJump:function(t,e){(0,t.commit)(i.i,e)},detailJump:function(t,e){(0,t.commit)(i.j,e)}}},function(t,e,n){"use strict";var i,s=n(117),o=n.n(s),a=n(28);e.a=(i={},o()(i,a.a,function(t,e){t.tab=e}),o()(i,a.b,function(t,e){e?t.page=e:t.page++}),o()(i,a.c,function(t,e){t.showTopic=e}),o()(i,a.d,function(t,e){t.topicDetail=e||"5433d5e4e737cbe96dcef312"}),o()(i,a.e,function(t,e){t.loginInfo=e}),o()(i,a.f,function(t,e){t.loginStatus=e}),o()(i,a.g,function(t,e){t.loginTip=e,setTimeout(function(){t.loginTip=!1},3e3)}),o()(i,a.h,function(t,e){t.userItem=e}),o()(i,a.i,function(t,e){t.user_jump=e}),o()(i,a.j,function(t,e){t.detail_jump=e||"/topic"}),i)}],[128]);
//# sourceMappingURL=app.995c7730b10d53b5e1a7.js.map